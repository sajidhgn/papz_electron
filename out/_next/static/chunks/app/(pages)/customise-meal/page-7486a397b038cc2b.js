(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[754],{8508:function(e,t,s){Promise.resolve().then(s.bind(s,1523))},2242:function(e,t,s){"use strict";s.d(t,{Q:function(){return a}});let a={siteurl:"https://chipshop.baiggroupltd.co.uk/",printerID:"WFAtODBD",porrtName:"COM3"}},1523:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var a=s(7437),l=s(2265),r=s(2242),i=s(4546),c=s(2468),n=s(1066);/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,n.Z)("CupSoda",[["path",{d:"m6 8 1.75 12.28a2 2 0 0 0 2 1.72h4.54a2 2 0 0 0 2-1.72L18 8",key:"8166m8"}],["path",{d:"M5 8h14",key:"pcz4l3"}],["path",{d:"M7 15a6.47 6.47 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"yjz344"}],["path",{d:"m12 8 1-6h2",key:"3ybfa4"}]]),o=(0,n.Z)("Croissant",[["path",{d:"m4.6 13.11 5.79-3.21c1.89-1.05 4.79 1.78 3.71 3.71l-3.22 5.81C8.8 23.16.79 15.23 4.6 13.11Z",key:"1ozxlb"}],["path",{d:"m10.5 9.5-1-2.29C9.2 6.48 8.8 6 8 6H4.5C2.79 6 2 6.5 2 8.5a7.71 7.71 0 0 0 2 4.83",key:"ffuyb5"}],["path",{d:"M8 6c0-1.55.24-4-2-4-2 0-2.5 2.17-2.5 4",key:"osnpzi"}],["path",{d:"m14.5 13.5 2.29 1c.73.3 1.21.7 1.21 1.5v3.5c0 1.71-.5 2.5-2.5 2.5a7.71 7.71 0 0 1-4.83-2",key:"1vubaw"}],["path",{d:"M18 16c1.55 0 4-.24 4 2 0 2-2.17 2.5-4 2.5",key:"wxr772"}]]);var m=s(5862),p=s(6463),u=s(6648),x=e=>{let[t,s]=(0,l.useState)([]);return(0,l.useEffect)(()=>{s(e.data)},[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),(0,a.jsx)("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0",children:(0,a.jsx)("div",{className:"bg-white my-20 max-w-3xl rounded-lg",children:(0,a.jsxs)("div",{className:"flex flex-col h-[60vh] overflow-hidden py-6",children:[(0,a.jsx)("div",{className:"flex-grow overflow-y-auto px-6 py-6",children:(0,a.jsx)("div",{className:"grid md:grid-cols-3 gap-10",children:t.map((t,s)=>(0,a.jsxs)("div",{className:"flex flex-col gap-2 cursor-pointer items-center",onClick:()=>e.addItem(t.id,t.products_status,t.product_image,t.product_name,t.meal_price),children:[(0,a.jsx)(u.default,{src:r.Q.siteurl+"storage/"+t.product_image,className:"w-28 lg:w-32 object-contain aspect-square",alt:t.product_name+" Image",width:10,height:10}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,a.jsx)("p",{className:"text-md lg:text-xl leading-none",children:t.product_name}),(0,a.jsx)("p",{className:"font-semibold",children:t.meal_price})]})]},s))})}),(0,a.jsx)("div",{className:"pt-4 flex-shrink-0 border-t border-t-gray-300 w-full  px-6",children:(0,a.jsx)("button",{className:"bg-black text-white px-20 py-3 lg:py-4",onClick:e.closeModal,children:"Cancel"})})]})})})})]})})};let g=async()=>{let e=await fetch(r.Q.siteurl+"api/get-mealitems");if(!e.ok)return{status:!1,message:(await e.json()).message||"An error occurred"};let t=await e.json();return{status:!0,side:t.side,drinks:t.drinks}};var f=s(4379),h=s.n(f),j=s(7223),b=()=>{let e=(0,p.useRouter)(),[t,s]=(0,l.useState)([]),[n,f]=(0,l.useState)([]),[b,N]=(0,l.useState)([]),[k,y]=(0,l.useState)({}),[v,w]=(0,l.useState)(0),[S,C]=(0,l.useState)([]),[F,I]=(0,l.useState)(0),[_,z]=(0,l.useState)([]),[O,E]=(0,l.useState)(!1),[J,M]=(0,l.useState)([]),[D,Z]=(0,l.useState)(!1),[A,B]=(0,l.useState)(0),[T,P]=(0,l.useState)(0),[L,q]=(0,l.useState)(0),[Q,R]=(0,l.useState)(!1),[W,G]=(0,l.useState)({}),$=e=>{let t=0;return e.forEach(e=>{e.choice_options.forEach(e=>{1===e.status&&(t+=parseFloat(e.price))})}),t},H=e=>{let t=0;return e&&e.length>0&&(t=e.filter(e=>2==e.status&&1===e.pivot.has_price).reduce((e,t)=>e+parseFloat(t.pivot.price),0)),t};(0,l.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("productDetails")),a=0,l=0;if(e.addons&&e.addons.length>0){let e=JSON.parse(localStorage.getItem("addons"));s(e),q(l=H(e))}else s(null);if(e.choices&&e.choices.length>0){let e=JSON.parse(localStorage.getItem("choices"));f(e),P(a=$(e))}else f(null);e.sizes&&e.sizes.length>0?N(JSON.parse(localStorage.getItem("sizes"))):N(null),G(e.selectedSize);let r=JSON.parse(localStorage.getItem("MealPreparingCart"));if(r){let e=!1,t=!1;(!r.side||Object.keys(r.side).length>0)&&(e=!0,I(1)),(!r.drink||Object.keys(r.drink).length>0)&&(t=!0,w(1)),t&&e&&Z(!0),y(r)}else{let s=(parseFloat(e.selectedSize.mealPrice)+a+l).toFixed(2),r={id:0,sprice:s,tprice:s,quantity:1,main:{pid:e.id,name:e.product_name,price:e.product_price,meal_price:e.meal_price,image:e.product_image,lqip:e.product_image_lqip,addons:t,choices:n,sizes:b,selectedSize:W},side:{},drink:{}};y(r),B(s),localStorage.setItem("MealPreparingCart",JSON.stringify(r))}U()},[]),(0,l.useEffect)(()=>{y(e=>({...e,main:{...e.main,addons:t}}))},[t]),(0,l.useEffect)(()=>{y(e=>({...e,main:{...e.main,choices:n}}))},[n]),(0,l.useEffect)(()=>{y(e=>({...e,main:{...e.main,sizes:b}}))},[b]),(0,l.useEffect)(()=>{y(e=>({...e,main:{...e.main,selectedSize:W}}))},[W]),(0,l.useEffect)(()=>{if(localStorage.setItem("MealPreparingCart",JSON.stringify(k)),Q){let e=JSON.parse(localStorage.getItem("mealCart"));e.push({...k}),R(!1),localStorage.setItem("mealCart",JSON.stringify(e))}F>0&&v>0?Z(!0):Z(!1)},[k]);let U=async()=>{if(JSON.parse(localStorage.getItem("sidesAndDrinks"))){let e=JSON.parse(localStorage.getItem("sidesAndDrinks"));C(e.drinks),z(e.side)}else{let e=await g();C(e.drinks),z(e.side);let t={side:e.side,drinks:e.drinks};localStorage.setItem("sidesAndDrinks",JSON.stringify(t))}},V=e=>{"drinks"==e?M(S):"side"==e&&M(_),E(!0)},Y=async()=>{E(!1)},K=async()=>{localStorage.setItem("MealPreparingCart",JSON.stringify("")),localStorage.setItem("sidesAndDrinks",JSON.stringify("")),e.back()},X=async(e,t,s,a,l)=>{let r={pid:e,name:a,image:s,price:l,status:t};B(parseFloat(A)+parseFloat(l)),"drinks"==t?(y(e=>({...e,drink:r,tprice:Number(parseFloat(e.tprice)+parseFloat(l)).toFixed(2),sprice:Number(parseFloat(e.sprice)+parseFloat(l)).toFixed(2)})),w(1)):"side"==t&&(y(e=>({...e,side:r,tprice:Number(parseFloat(e.tprice)+parseFloat(l)).toFixed(2),sprice:Number(parseFloat(e.sprice)+parseFloat(l)).toFixed(2)})),I(1)),E(!1)},ee=async(e,t)=>{B(parseFloat(A)-parseFloat(t)),"drinks"==e?(w(0),y(e=>({...e,drink:{},totalBill:Number(parseFloat(e.totalBill)-parseFloat(t)).toFixed(2)}))):"side"==e&&(I(0),y(e=>({...e,side:{},totalBill:Number(parseFloat(e.totalBill)-parseFloat(t)).toFixed(2)})))},et=async()=>{let t=JSON.parse(localStorage.getItem("mealCart"));if(!t||t.length<1){let e=[];e.push({...k}),localStorage.setItem("mealCart",JSON.stringify(e))}else{let e=t[t.length-1].id+1;R(!0),y(t=>({...t,id:e}))}e.push("/category"),h().fire({title:"ADDED",html:"\n                <strong><i>Meal Confirmed</i></strong>\n            ",icon:"success",timer:1e3,showConfirmButton:!1})};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(i.Z,{children:[O&&(0,a.jsx)(x,{closeModal:Y,addItem:X,data:J}),(0,a.jsx)(j.l,{onClick:K}),(0,a.jsx)("div",{className:"text-2xl font-bold uppercase text-center mt-5 lg:mt-0",children:"Customise Your Meal"}),(0,a.jsxs)("div",{className:"px-2 flex flex-col flex-1 mt-4 lg:mt-0 pr-4 pl-6 lg:px-16",children:[k.main&&(0,a.jsxs)("div",{className:"flex items-center w-full pb-5 lg:px-5 lg:py-5 border-b border-b-gray-300 bg-red gap-4",children:[(0,a.jsx)("div",{className:"product-img",children:(0,a.jsx)(u.default,{src:r.Q.siteurl+"storage/"+k.main.image,height:50,width:50,alt:k.main.name,className:"w-20 md:w-24",placeholder:"blur",blurDataURL:"data:image/jpeg;base64,".concat(k.main.lqip)})}),(0,a.jsxs)("div",{className:"flex flex-col p-0 lg:p-5 justify-center gap-2 flex-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("p",{className:"text-xl md:text-3xl font-semibold",children:[k.main.name,(0,a.jsx)("span",{className:"text-xl",children:"("+W.size+")"})]}),(0,a.jsxs)("p",{className:"text-lg font-bold px-4",children:["Total : ",Number(parseFloat(A)).toFixed(2)]})]}),null!=t?(0,a.jsx)("div",{className:"flex flex-col gap-4",children:(0,a.jsx)("div",{className:"grid grid-cols-3 gap-4",children:t.map((e,t)=>1!=e.status?0===e.status?(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(c.Z,{size:16})," No ",e.addon_name]},t):(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(c.Z,{size:16})," Extra ",e.addon_name]},t):"")})}):"",null!=n?(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex w-full items-center justify-center gap-3",children:[(0,a.jsx)("div",{className:" w-32 border-b border-b-gray-400"}),(0,a.jsx)("p",{className:"text-xl font-semibold rounded-full text-center w-fit",children:"Selected Options"}),(0,a.jsx)("div",{className:" w-32 border-b border-b-gray-400"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(c.Z,{size:16}),(0,a.jsxs)("p",{className:"font-semibold",children:[e.choice_name," : "]}),e.choice_options.filter(e=>1===e.status).map((e,t)=>(0,a.jsx)("p",{children:e.option_name},t))]},t))})]}):""]})]}),k.side&&k.side.image&&k.side.name&&(0,a.jsxs)("div",{className:"flex w-full lg:px-5 border-b border-b-gray-300 justify-between items-center py-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.default,{src:r.Q.siteurl+"storage/"+k.side.image,alt:k.side.name,className:"w-10 md:w-12",height:50,width:50}),(0,a.jsx)("p",{className:"text-base lg:text-xl",children:k.side.name})]}),(0,a.jsx)("div",{className:"p-2 cursor-pointer px-4",onClick:()=>ee(k.side.status,k.side.price),children:(0,a.jsx)(u.default,{src:"/assets/images/trash.svg",width:25,height:25,alt:"Delete Icon"})})]}),k.drink&&k.drink.image&&k.drink.name&&(0,a.jsxs)("div",{className:"flex w-full lg:px-5 border-b border-b-gray-300 justify-between items-center py-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.default,{src:r.Q.siteurl+"storage/"+k.drink.image,alt:k.drink.name,className:"w-10 md:w-12",height:50,width:50}),(0,a.jsx)("p",{className:"text-base lg:text-xl",children:k.drink.name})]}),(0,a.jsx)("div",{className:"p-2 cursor-pointer px-4",onClick:()=>ee(k.drink.status,k.drink.price),children:(0,a.jsx)(u.default,{src:"/assets/images/trash.svg",width:25,height:25,alt:"Delete Icon"})})]}),(0,a.jsxs)("div",{className:"flex justify-center py-5 mt-2 lg:mt-5 items-center font-semibold gap-3",children:[0===v&&(0,a.jsxs)("button",{className:"flex gap-1 items-center px-4 py-3 rounded-full border border-black focus:bg-black focus:text-white",onClick:()=>V("drinks"),children:[(0,a.jsx)(d,{size:20})," Add A Drink"]}),0===F&&(0,a.jsxs)("button",{className:"flex gap-1 items-center px-4 py-3 rounded-full border border-black focus:bg-black focus:text-white",onClick:()=>V("side"),children:[(0,a.jsx)(o,{size:20,className:"mr-1"}),"Add A Side Item"]}),D&&(0,a.jsxs)("button",{className:"flex items-center font-semibold px-4 py-3 rounded-full border border-black focus:bg-black focus:text-white",onClick:et,children:[(0,a.jsx)(m.Z,{size:20,className:"mr-1"}),"Confirm Meal"]})]})]})]})})}},7223:function(e,t,s){"use strict";s.d(t,{l:function(){return i}});var a=s(7437),l=s(6463);s(2265);var r=s(6648);let i=e=>{let{title:t="Take Me Back",onClick:s,background:i="bg-transparent",textColor:c="bg-dark",iconInvert:n=!1}=e,d=(0,l.useRouter)();return(0,a.jsx)("div",{className:"flex w-100 justify-end px-12 pt-10 ".concat(i," ").concat(c),children:(0,a.jsxs)("button",{className:"flex items-center",onClick:()=>{s?s():d.back()},children:[(0,a.jsx)("div",{className:"icon px-1",children:(0,a.jsx)(r.default,{src:"/assets/images/goBack.svg",height:20,width:20,alt:"Go Back Button",className:n&&"invert"})}),(0,a.jsx)("div",{className:"font-semibold",children:t})]})})}},4546:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(7437),l=s(6648),r=s(2265),i=()=>{let[e,t]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=localStorage.getItem("orderType");e||(e="Eat In",localStorage.setItem("orderType",JSON.stringify(e))),t(e)},[]);let s=e=>{t(e),localStorage.setItem("orderType",e)};return(0,a.jsx)("div",{className:"w-full p-5 flex justify-center gap-2",children:"Eat In"===e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-40 h-14 cursor-pointer bg-black text-white content-center text-center rounded-full",onClick:()=>s("Eat In"),children:"Eat In"}),(0,a.jsx)("div",{className:"w-40 h-14 cursor-pointer border border-black content-center text-center rounded-full",onClick:()=>s("Takeaway"),children:"Takeaway"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-40 h-14 cursor-pointer border border-black content-center text-center rounded-full",onClick:()=>s("Eat In"),children:"Eat In"}),(0,a.jsx)("div",{className:"w-40 h-14 cursor-pointer bg-black text-white content-center text-center rounded-full",onClick:()=>s("Takeaway"),children:"Takeaway"})]})})},c=()=>(0,a.jsxs)("nav",{className:"navbar flex flex-col justify-between px-5 items-center pb-5 pt-10 sticky top-0 gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col justify-between items-center",children:[(0,a.jsx)("div",{className:"logo-img",children:(0,a.jsx)(l.default,{src:"/assets/images/logo.png",alt:"LOGO",className:"w-20",height:100,width:200})}),(0,a.jsxs)("div",{className:"title flex",children:[(0,a.jsx)("div",{className:"home-icon"}),(0,a.jsx)("p",{className:"text-xl uppercase",children:"Papaz Pizza"})]})]}),(0,a.jsx)(i,{})]}),n=e=>{let{children:t,showNavbar:s=!0}=e;return(0,a.jsxs)("div",{className:"flex flex-col min-h-screen",children:[s&&(0,a.jsx)(c,{}),(0,a.jsx)("div",{className:"flex-1 flex flex-col",children:t})]})}},1066:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2265),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let s=(0,a.forwardRef)((s,i)=>{let{color:c="currentColor",size:n=24,strokeWidth:d=2,absoluteStrokeWidth:o,className:m="",children:p,...u}=s;return(0,a.createElement)("svg",{ref:i,...l,width:n,height:n,stroke:c,strokeWidth:o?24*Number(d)/Number(n):d,className:["lucide","lucide-".concat(r(e)),m].join(" "),...u},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(p)?p:[p]])});return s.displayName="".concat(e),s}},5862:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2468:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.314.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(1066).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])}},function(e){e.O(0,[461,595,971,23,744],function(){return e(e.s=8508)}),_N_E=e.O()}]);